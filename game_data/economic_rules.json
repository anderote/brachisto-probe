{
  "description": "Consolidated economic rules for game balancing. All base rates, skill coefficients, and scaling factors in one place.",
  
  "research": {
    "exponential_decay_factor": 0.857,
    "description": "Each subsequent tier's skill benefit is multiplied by this factor. At tier 9 (index 8), benefit is 0.857^8 ≈ 0.30 (30%) of tier 1's benefit. This creates diminishing returns for deep research in a single tree."
  },
  
  "probe": {
    "mass_kg": 100,
    "base_mining_rate_kg_per_day": 80,
    "base_build_rate_kg_per_day": 10,
    "base_energy_production_w": 250000,
    "base_energy_cost_mining_w": 500000,
    "base_energy_cost_recycle_slag_w": 250000,
    "base_compute_pflops": 100,
    "base_compute_description": "Each probe has 100 PFLOPs of onboard compute, upgradeable through intelligence research"
  },
  
  "probe_transfer": {
    "base_delta_v_km_s": 7.5,
    "description": "Starting probe delta-v capacity. Limits which orbits probes can self-transfer to."
  },
  
  "structures": {
    "base_probe_mass_kg": 100,
    "geometric_scaling_exponent": 0.5,
    "base_energy_cost_w": 250000
  },
  
  "dyson_sphere": {
    "target_mass_kg": 2e23,
    "power_per_sq_m_w": 5000,
    "mass_per_sq_m_kg": 2.0,
    "power_per_kg_w": 2500
  },
  
  "energy": {
    "constant_supply_w": 100000
  },
  
  "alpha_factors": {
    "description": "DEPRECATED: No longer used. Previously controlled geometric mean exponent. Now using weighted sum: factor = 1 + Σ(weight_i * (skill_i - 1))",
    "structure_performance": 0.8,
    "probe_performance": 0.75,
    "dyson_performance": 0.55,
    "cost_scaling": 0.25
  },
  
  "skill_coefficients": {
    "description": "Coefficients for combining skills into upgrade factors. Uses weighted sum formula: factor = 1 + Σ(weight_i * (skill_i - 1)). Weights are relative - higher weight means that skill contributes more to the final factor.",
    
    "probe_mining": {
      "description": "Skills affecting probe mining rate (kg/day)",
      "robotics": 1.0,
      "sensors": 0.6,
      "propulsion": 0.4,
      "structures": 0.5,
      "materials": 0.4,
      "processor": 0.3,
      "transmission": 0.2
    },
    
    "probe_building": {
      "description": "Skills affecting probe build/replication rate (kg/day)",
      "structures": 1.0,
      "robotics": 1.0,
      "materials": 0.6,
      "sensors": 0.4,
      "propulsion": 0.3,
      "processor": 0.4,
      "conversion": 0.2
    },
    
    "structure_mining": {
      "description": "Skills affecting structure mining rate",
      "robotics": 1.0,
      "propulsion": 0.5,
      "materials": 0.4,
      "sensors": 0.5,
      "structures": 0.4,
      "processor": 0.3
    },
    
    "structure_building": {
      "description": "Skills affecting structure build rate",
      "structures": 1.0,
      "robotics": 1.0,
      "materials": 0.6,
      "sensors": 0.3,
      "processor": 0.3
    },
    
    "energy_generation": {
      "description": "Skills affecting energy production",
      "generation": 1.0,
      "conversion": 1.0
    },
    
    "compute": {
      "description": "Skills affecting orbital data center compute capacity",
      "processor": 1.0,
      "sensors": 1.0,
      "memory": 0.8,
      "architecture": 0.6
    },
    
    "probe_compute": {
      "description": "Skills affecting per-probe onboard compute capacity (base 100 PFLOPs)",
      "processor": 1.0,
      "sensors": 1.0,
      "memory": 0.5,
      "architecture": 0.5
    },
    
    "dyson_compute": {
      "description": "Skills affecting Dyson sphere compute capacity",
      "processor": 1.0,
      "sensors": 1.0,
      "memory": 0.8,
      "architecture": 0.7,
      "structures": 0.4,
      "conversion": 0.3
    },
    
    "dyson_construction": {
      "description": "Skills affecting Dyson sphere construction",
      "structures": 1.0,
      "robotics": 1.0,
      "materials": 0.4
    },
    
    "dyson_energy": {
      "description": "Skills affecting Dyson sphere energy output",
      "generation": 1.0,
      "structures": 1.0,
      "conversion": 0.4
    },
  
    
    "metal_extraction": {
      "description": "Ore to metal conversion efficiency",
      "materials": 1.0,
      "sensors": 0.5,
      "conversion": 0.3
    },
    
    "energy_consumption_reduction": {
      "description": "Reduces energy cost of activities",
      "transmission": 1.0,
      "conversion": 0.6
    },
    
    "battery_capacity": {
      "description": "Energy storage capacity",
      "storage_density": 1.0,
      "materials": 0.4
    },
    
    "salvage_efficiency": {
      "description": "Metal recovery percentage from scrapping structures",
      "structures": 1.0,
      "robotics": 0.7,
      "materials": 0.5,
      "sensors": 0.5,
      "conversion": 0.4
    },
    
    "salvage_speed": {
      "description": "Speed of salvage/scrapping operations (kg/day)",
      "structures": 1.0,
      "robotics": 1.0,
      "propulsion": 0.5,
      "processor": 0.3
    },
    
    "slag_recycling": {
      "description": "Metal recovery from slag processing",
      "structures": 1.0,
      "conversion": 0.7,
      "materials": 0.5,
      "sensors": 0.4,
      "robotics": 0.5
    },
    
    "slag_recycling_speed": {
      "description": "Speed of slag recycling operations (kg/day)",
      "structures": 1.0,
      "robotics": 0.8,
      "conversion": 0.6,
      "transmission": 0.4,
      "processor": 0.3
    },
    
    "research_speed": {
      "description": "Research speed multiplier",
      "architecture": 1.0,
      "processor": 0.4,
      "sensors": 0.2
    },
    
    "probe_energy_production": {
      "description": "Skills affecting probe energy generation",
      "generation": 1.0,
      "conversion": 0.6
    },
    
    "probe_energy_consumption": {
      "description": "Skills reducing probe energy consumption",
      "transmission": 1.0,
      "robotics": 0.5,
      "conversion": 0.6
    },
    
    "probe_delta_v_capacity": {
      "description": "Probe delta-v capacity for orbital transfers",
      "propulsion": 1.2,
      "materials": 0.3,
      "generation": 0.3,
      "robotics": 0.2
    },
    
    "mass_driver_muzzle_velocity": {
      "description": "Mass driver muzzle velocity (km/s)",
      "conversion": 1.5,
      "storage_density": 1.0,
      "robotics": 0.5,
      "materials": 0.35,
      "propulsion": 0.2,
      "processor": 0.15
    },
    
    "mass_driver_power": {
      "description": "Mass driver power capacity (MW)",
      "transmission": 1.0,
      "storage_density": 1.0,
      "conversion": 0.3,
      "robotics": 0.15,
      "processor": 0.05
    },
    
    "mass_driver_efficiency": {
      "description": "Mass driver energy efficiency (% of input energy converted to kinetic)",
      "conversion": 1.0,
      "transmission": 0.6,
      "storage_density": 0.55
    },
    
    "methalox_production": {
      "description": "Skills affecting methalox refinery output rate",
      "structures": 1.0,
      "conversion": 0.7,
      "materials": 0.5
    },
    
    "methalox_energy_cost": {
      "description": "Skills reducing methalox refinery power consumption",
      "conversion": 1.0
    }
  },
  
  "crowding": {
    "description": "Zone crowding penalty parameters. At 1% probe mass ratio: no penalty. At 90%: 2% efficiency.",
    "threshold_ratio": 0.01,
    "decay_rate": 4.395
  },
  
  "probe_count_scaling": {
    "description": "Diminishing returns for probe count within each zone. Each doubling of probe count reduces efficiency. Formula: efficiency = (1 - penalty_per_doubling)^log2(probe_count). Compute upgrades reduce the penalty from base to min.",
    "base_penalty_per_doubling": 0.005,
    "min_penalty_per_doubling": 0.001,
    "compute_skill_threshold": 3.18
  },
  
  "global_replication_scaling": {
    "description": "Global penalty to probe replication rate based on total probe count. After threshold, each order of magnitude (10x) growth halves replication rate. Formula: efficiency = halving_factor^max(0, log10(totalProbes) - log10(threshold)). At 1e13: 50% rate, at 1e14: 25% rate, etc.",
    "threshold": 1e12,
    "halving_factor": 0.5
  },
  
  "time": {
    "seconds_per_day": 86400,
    "ticks_per_second": 60
  },
  
  "propulsion": {
    "base_isp_seconds": 300,
    "max_isp_seconds": 4500,
    "description": "ISP scales from 300s (base) to 4500s (fully upgraded) via propulsion skill"
  },

  "probe_upgrades": {
    "base_mass_kg": 100,
    "min_mass_kg": 30,
    "mass_reduction_skill": "materials",
    "description": "Probe mass scales from 100kg (base) down to 30kg (fully upgraded) via materials skill"
  },

  "mass_driver": {
    "base_muzzle_velocity_km_s": 8.5,
    "max_muzzle_velocity_km_s": 45,
    "description": "Muzzle velocity scales from 8.5 km/s (base) to 45 km/s (fully upgraded) via skill coefficients"
  },

  "particle_visualization": {
    "description": "Unified Pareto distribution for all particle visualizations (mining, recycling, replication, mass transfers). Uses power-law distribution: many small particles, few large ones. Applied consistently across metal, slag, methalox, and probes.",
    
    "mass_distribution": {
      "min_mass_kg": 1e6,
      "max_mass_kg": 1e22,
      "shape_parameter": 1.15,
      "description": "Pareto distribution with α = 1.15 gives heavy tail. Range spans 16 orders of magnitude from 1 megakilogram (1000 tonnes) to 10 zettakilograms (planet-chunk scale). With truncation at max_mass, effective expected value ≈ 1e21 kg."
    },
    
    "visual_size": {
      "min_size": 0.05,
      "max_size": 3.5,
      "scaling": "logarithmic",
      "size_exponent": 0.4,
      "description": "Logarithmic scaling from mass to visual size. size = minSize * (maxSize/minSize)^(t^exponent) where t = (log₁₀(mass) - 6) / 16. Exponent < 1 shifts distribution toward larger sizes. Default 0.4 gives good visual presence for particles."
    },
    
    "spawn_rate": {
      "min_rate_per_day": 0.5,
      "max_rate_per_day": 15,
      "description": "Particles spawned per game day, capped to prevent visual overload while maintaining proportionality to production rates."
    },
    
    "colors": {
      "metal": "#C0C0C0",
      "slag": "#5C4033",
      "methalox": "#7EC8E3",
      "probe": "#88FFFF",
      "description": "metal=silver, slag=brown-grey, methalox=pale-blue, probe=light-cyan"
    },
    
    "probe_individual": {
      "max_individual_count": 300,
      "individual_size": 0.16,
      "transfer_size": 0.16,
      "description": "First N probes at each zone are shown as individual dots with fixed size. Remaining probes are visualized as mass particles using the unified distribution. Transfer size is for probes in transit."
    },
    
    "drift_animation": {
      "resource_base_duration_days": 90,
      "resource_distance_scaling_days": 50,
      "probe_individual_duration_days": 5,
      "probe_mass_duration_days": 30,
      "mass_driver_duration_days": 36,
      "description": "Duration in game days for particles to drift from spawn point to orbital position. driftDuration = base + distanceRatio * scaling"
    },
    
    "probe_swarm": {
      "ring_count": 6,
      "max_dots_per_ring": 20,
      "max_total_dots": 120,
      "overflow_threshold": 100000000,
      "ring_radius_multipliers": [1.2, 1.35, 1.5, 1.65, 1.8, 1.95],
      "description": "Planetary probe swarm configuration. First 100M probes fill the swarm (up to 120 dots in 6 polar orbital rings). Beyond threshold, excess probe mass spawns as cyan particles in orbital cloud."
    },
    
    "calibration": {
      "jupiter_mass_kg": 1.898e27,
      "target_particle_count": 800000,
      "description": "Distribution calibrated so Jupiter's full mass converts to approximately 800,000 particles. E[X] = α * minMass / (α - 1) with truncation."
    }
  }
}

